(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{1023:function(e,t,c){},1024:function(e,t,c){"use strict";c.r(t);var r=c(1),n=c.n(r),a=c(86),s=c.n(a),o=c(67),i=c(60),l=c(52),j=c.n(l),u=(c(794),c(190)),b=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.search,t={},c=("?"===e[0]?e.substr(1):e).split("&"),r=0;r<c.length;r++){var n=c[r].split("=");t[decodeURIComponent(n[0])]=decodeURIComponent(n[1]||"")}return t},d=c(15),p=c(16),O=c(364),h=c(376),g=c(4),x=c(28),f=c(189),m=c(366),v=c(124),w=c(421),k=c(8),y=c(79),S=c(2);function C(){var e=Object(x.c)(),t=e.isOpen,c=e.onToggle;return Object(S.jsxs)(O.a,{children:[Object(S.jsxs)(O.f,{bg:Object(f.d)("#f6f6f7","gray.800"),color:Object(f.d)("gray.600","#f6f6f7"),minH:"60px",py:{base:2},px:{base:4},borderBottom:1,borderStyle:"solid",borderColor:Object(f.d)("gray.200","gray.900"),align:"center",children:[Object(S.jsxs)(O.f,{flex:{base:1,md:"auto"},alignItems:"center",ml:{base:-2},display:{base:"flex",md:"none"},children:[Object(S.jsx)(y.a,{onClick:function(){return window.history.back()},justifyContent:"center",alignItems:"center",boxSize:6}),Object(S.jsx)(m.c,{onClick:c,icon:t?Object(S.jsx)(y.d,{w:3,h:3}):Object(S.jsx)(y.f,{w:5,h:5}),variant:"ghost","aria-label":"Toggle Navigation"})]}),Object(S.jsxs)(O.f,{flex:{base:1},justify:{base:"center",md:"start"},children:[Object(S.jsx)(y.a,{cursor:"pointer",onClick:function(){return window.history.back()},display:{base:"none",md:"flex"},justifyContent:"center",alignItems:"center",boxSize:6}),Object(S.jsx)(O.f,{display:{base:"none",md:"flex"},ml:10,alignItems:"center",children:Object(S.jsx)(I,{})})]})]}),Object(S.jsx)(v.a,{in:t,animateOpacity:!0,children:Object(S.jsx)(W,{})})]})}var I=function(){var e=Object(f.d)("gray.600","gray.200"),t=Object(f.d)("gray.800","white"),c=Object(f.d)("white","gray.800");return Object(S.jsx)(O.k,{direction:"row",spacing:4,children:T.map((function(r){var n;return Object(S.jsx)(O.a,{children:Object(S.jsxs)(w.a,{trigger:"hover",placement:"bottom-start",children:[Object(S.jsx)(w.c,{children:Object(S.jsx)(i.b,{p:2,to:null!==(n=r.href)&&void 0!==n?n:"#",fontSize:"sm",fontWeight:500,color:e,_hover:{textDecoration:"none",color:t},children:r.label})}),r.children&&Object(S.jsx)(w.b,{border:0,boxShadow:"xl",bg:c,p:4,rounded:"xl",minW:"sm",children:Object(S.jsx)(O.k,{children:r.children.map((function(e){return Object(S.jsx)(z,Object(g.a)({},e),e.label)}))})})]})},r.label)}))})},z=function(e){var t=e.label,c=e.href,r=e.subLabel;return Object(S.jsx)(i.b,{to:c,role:"group",display:"block",p:2,rounded:"md",_hover:{bg:Object(f.d)("pink.50","gray.900")},children:Object(S.jsxs)(O.k,{direction:"row",align:"center",children:[Object(S.jsxs)(O.a,{children:[Object(S.jsx)(O.l,{transition:"all .3s ease",_groupHover:{color:"pink.400"},fontWeight:500,children:t}),Object(S.jsx)(O.l,{fontSize:"sm",children:r})]}),Object(S.jsx)(O.f,{transition:"all .3s ease",transform:"translateX(-10px)",opacity:0,_groupHover:{opacity:"100%",transform:"translateX(0)"},justify:"flex-end",align:"center",flex:1,children:Object(S.jsx)(k.a,{color:"pink.400",w:5,h:5,as:y.c})})]})})},W=function(){return Object(S.jsx)(O.k,{bg:Object(f.d)("white","gray.800"),p:4,display:{md:"none"},children:T.map((function(e){return Object(S.jsx)(A,Object(g.a)({},e),e.label)}))})},A=function(e){var t=e.label,c=e.children,r=e.href,n=Object(x.c)(),a=n.isOpen,s=n.onToggle;return Object(S.jsxs)(O.k,{spacing:4,onClick:c&&s,children:[Object(S.jsxs)(O.f,{py:2,as:i.b,to:null!==r&&void 0!==r?r:"#",justify:"space-between",align:"center",_hover:{textDecoration:"none"},children:[Object(S.jsx)(O.l,{fontWeight:600,color:Object(f.d)("gray.600","gray.200"),children:t}),c&&Object(S.jsx)(k.a,{as:y.b,transition:"all .25s ease-in-out",transform:a?"rotate(180deg)":"",w:6,h:6})]}),Object(S.jsx)(v.a,{in:a,animateOpacity:!0,style:{marginTop:"0!important"},children:Object(S.jsx)(O.k,{mt:2,pl:4,borderLeft:1,borderStyle:"solid",borderColor:Object(f.d)("gray.200","gray.700"),align:"start",children:c&&c.map((function(e){return Object(S.jsx)(i.b,{py:2,to:e.href,children:e.label},e.label)}))})})]})},T=[{label:"New Curation",href:"/looks/create"},{label:"Settings",href:"/settings"},{label:"Total XRP Earned",href:"/transaction"}],F=c(12),P=c(7),_=c.n(P),L=c(420),R=c(138),E=c(418),D=c(424),X=c(231),U=c(286),B=c(423),N=c.n(B),M={dots:!0,arrows:!1,fade:!0,infinite:!0,autoplay:!0,speed:500,autoplaySpeed:5e3,slidesToShow:1,slidesToScroll:1};function V(e){var t=n.a.useState(null),c=Object(p.a)(t,2),r=c[0],a=c[1],s=Object(X.a)({base:"90%",md:"50%"}),o=Object(X.a)({base:"30%",md:"40px"}),i=e.medias,l=void 0===i?[]:i;return Object(S.jsxs)(O.a,{position:"relative",height:e.height||"300px",width:e.width||"300px",overflow:"hidden",borderWidth:"1px",rounded:"lg",shadow:"lg",margin:"0 auto",children:[Object(S.jsx)(m.c,{"aria-label":"left-arrow",variant:"ghost",position:"absolute",left:o,top:s,transform:"translate(-50%, -50%)",zIndex:2,onClick:function(){return null===r||void 0===r?void 0:r.slickPrev()},children:Object(S.jsx)(U.a,{size:"40px"})}),Object(S.jsx)(m.c,{"aria-label":"right-arrow",variant:"ghost",position:"absolute",right:o,top:s,transform:"translate(50%, -50%)",zIndex:2,onClick:function(){return null===r||void 0===r?void 0:r.slickNext()},children:Object(S.jsx)(U.b,{size:"40px"})}),Object(S.jsx)(N.a,Object(g.a)(Object(g.a)({autoplay:!1},M),{},{ref:function(e){return a(e)},children:l.map((function(t,c){return Object(S.jsx)(O.a,{position:"relative",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundImage:"url(".concat(t.url?t.url:t.src,")"),children:Object(S.jsx)(O.d,{padding:"0",size:"container.lg",height:e.height||"400px",position:"relative",children:Object(S.jsx)(O.k,{padding:"0",w:"full",position:"absolute",bottom:"0",background:"#00000094"})})},c)}))}))]})}var q=c(88),H=c(50),G=c.n(H),Y=c(27),K=c.n(Y),J=c(9),$="Something went wrong. Try again",Q={get:{loading:!1,success:{ok:!1,data:[]},failure:{error:!1,message:""}},post:{loading:!1,success:{ok:!1,data:null},failure:{error:!1,message:""}},patch:{loading:!1,success:{ok:!1,data:null},failure:{error:!1,message:""}},destroy:{loading:!1,success:{ok:!1,data:null},failure:{error:!1,message:""}}},Z=G()((function(e,t){return{looks:Q,getLooks:function(){var t=Object(F.a)(_.a.mark((function t(){var c,r,n,a,s,o,i,l=arguments;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=l.length>0&&void 0!==l[0]?l[0]:{},r=c.id,n=void 0===r?"":r,a=c.shop,s=void 0===a?window.lookbook.shop:a,e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{looks:Object(g.a)(Object(g.a)({},e.looks),{},{get:Object(g.a)(Object(g.a)({},Q.get),{},{loading:!0})})})}))),t.prev=2,t.next=5,K.a.get("".concat("https://xrpshop.frangout.com","/api/get_looks?shop=").concat(s,"&id=").concat(n));case 5:return o=t.sent,i=o.data,e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{looks:Object(g.a)(Object(g.a)({},e.looks),{},{get:Object(g.a)(Object(g.a)({},Q.get),{},{success:{ok:!0,data:i}})})})}))),t.abrupt("return",i);case 11:t.prev=11,t.t0=t.catch(2),console.error(t.t0),t.t0.code===j.a.Error.INVALID_SESSION_TOKEN&&j.a.User.logOut(),e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{looks:Object(g.a)(Object(g.a)({},e.looks),{},{get:Object(g.a)(Object(g.a)({},Q.get),{},{failure:{error:!0,message:t.t0.message||$}})})})})));case 16:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(){return t.apply(this,arguments)}}(),postLooks:function(){var t=Object(F.a)(_.a.mark((function t(c){var r,n,a,s,o,i,l,j,u,b;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.id,r=c.shop,n=void 0===r?window.lookbook.shop:r,a=c.name,s=c.price,o=c.xrpPrice,i=c.medias,l=c.products,j=void 0===l?[]:l,e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{looks:Object(g.a)(Object(g.a)({},e.looks),{},{post:Object(g.a)(Object(g.a)({},Q.post),{},{loading:!0})})})}))),t.prev=2,t.next=5,K.a.post("".concat("https://xrpshop.frangout.com","/api/post_looks"),{shop:n,name:a,price:s,xrpPrice:o,medias:i,products:j});case 5:return u=t.sent,b=u.data,e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{looks:Object(g.a)(Object(g.a)({},e.looks),{},{post:Object(g.a)(Object(g.a)({},Q.post),{},{success:{ok:!0,data:b}})})})}))),t.abrupt("return",b);case 11:throw t.prev=11,t.t0=t.catch(2),console.error(t.t0),e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{looks:Object(g.a)(Object(g.a)({},e.looks),{},{post:Object(g.a)(Object(g.a)({},Q.post),{},{failure:{error:!0,message:t.t0.message||$}})})})}))),t.t0;case 16:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}(),patchLooks:function(){var t=Object(F.a)(_.a.mark((function t(c){var r,n,a,s,o,i,l,j,u,b,d;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.id,n=c.shop,a=void 0===n?window.lookbook.shop:n,s=c.name,o=c.price,i=c.xrpPrice,l=c.medias,j=c.products,u=void 0===j?[]:j,e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{looks:Object(g.a)(Object(g.a)({},e.looks),{},{patch:Object(g.a)(Object(g.a)({},Q.patch),{},{loading:!0})})})}))),t.prev=2,console.log(i),t.next=6,K.a.post("".concat("https://xrpshop.frangout.com","/api/post_looks"),{id:r,shop:a,name:s,price:o,xrpPrice:i,medias:l,products:u});case 6:return b=t.sent,d=b.data,e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{looks:Object(g.a)(Object(g.a)({},e.looks),{},{patch:Object(g.a)(Object(g.a)({},Q.patch),{},{success:{ok:!0,data:d}})})})}))),t.abrupt("return",d);case 12:throw t.prev=12,t.t0=t.catch(2),e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{looks:Object(g.a)(Object(g.a)({},e.looks),{},{patch:Object(g.a)(Object(g.a)({},Q.patch),{},{failure:{error:!0,message:t.t0.message||$}})})})}))),t.t0;case 16:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e){return t.apply(this,arguments)}}(),destroyLooks:function(){var t=Object(F.a)(_.a.mark((function t(c){var r,n;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{looks:Object(g.a)(Object(g.a)({},e.looks),{},{destroy:Object(g.a)(Object(g.a)({},Q.destroy),{},{loading:!0})})})}))),t.prev=1,t.next=4,K.a.delete("".concat("https://xrpshop.frangout.com","/api/destroy_looks?id=").concat(c));case 4:return r=t.sent,n=r.data,e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{looks:Object(g.a)(Object(g.a)({},e.looks),{},{destroy:Object(g.a)(Object(g.a)({},Q.destroy),{},{success:{ok:!0,data:n}})})})}))),t.abrupt("return",n);case 10:throw t.prev=10,t.t0=t.catch(1),e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{looks:Object(g.a)(Object(g.a)({},e.looks),{},{destroy:Object(g.a)(Object(g.a)({},Q.destroy),{},{failure:{error:!0,message:t.t0.message||$}})})})}))),t.t0;case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()}})),ee=Z,te={get:{loading:!1,success:{ok:!1,data:[]},failure:{error:!1,message:""}},post:{loading:!1,success:{ok:!1,data:null},failure:{error:!1,message:""}},patch:{loading:!1,success:{ok:!1,data:null},failure:{error:!1,message:""}},destroy:{loading:!1,success:{ok:!1,data:null},failure:{error:!1,message:""}}},ce=G()((function(e,t){return{scripts:te,getScripts:function(){var t=Object(F.a)(_.a.mark((function t(){var c,r,n,a=arguments;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=a.length>0&&void 0!==a[0]?a[0]:window.lookbook.shop,e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{scripts:Object(g.a)(Object(g.a)({},e.scripts),{},{get:Object(g.a)(Object(g.a)({},te.get),{},{loading:!0})})})}))),t.prev=2,t.next=5,K.a.get("".concat("https://xrpshop.frangout.com","/api/get_scripts?shop=").concat(c));case 5:return r=t.sent,n=r.data,e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{scripts:Object(g.a)(Object(g.a)({},e.scripts),{},{get:Object(g.a)(Object(g.a)({},te.get),{},{success:{ok:!0,data:n}})})})}))),t.abrupt("return",n);case 11:throw t.prev=11,t.t0=t.catch(2),e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{scripts:Object(g.a)(Object(g.a)({},e.scripts),{},{get:Object(g.a)(Object(g.a)({},te.get),{},{failure:{error:!0,message:t.t0.message||$}})})})}))),t.t0;case 15:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(){return t.apply(this,arguments)}}(),postScripts:function(){var t=Object(F.a)(_.a.mark((function t(){var c,r,n,a=arguments;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=a.length>0&&void 0!==a[0]?a[0]:window.lookbook.shop,e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{scripts:Object(g.a)(Object(g.a)({},e.scripts),{},{post:Object(g.a)(Object(g.a)({},te.post),{},{loading:!0})})})}))),t.prev=2,t.next=5,K.a.post("".concat("https://xrpshop.frangout.com","/api/post_scripts"),{shop:c});case 5:return r=t.sent,n=r.data,e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{scripts:Object(g.a)(Object(g.a)({},e.scripts),{},{post:Object(g.a)(Object(g.a)({},te.post),{},{success:{ok:!0,data:n}})})})}))),t.abrupt("return",n);case 11:throw t.prev=11,t.t0=t.catch(2),e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{scripts:Object(g.a)(Object(g.a)({},e.scripts),{},{post:Object(g.a)(Object(g.a)({},te.post),{},{failure:{error:!0,message:t.t0.message||$}})})})}))),t.t0;case 15:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(){return t.apply(this,arguments)}}(),destroyScripts:function(){var t=Object(F.a)(_.a.mark((function t(){var c,r,n,a=arguments;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=a.length>0&&void 0!==a[0]?a[0]:window.lookbook.shop,e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{scripts:Object(g.a)(Object(g.a)({},e.scripts),{},{destroy:Object(g.a)(Object(g.a)({},te.destroy),{},{loading:!0})})})}))),t.prev=2,t.next=5,K.a.delete("".concat("https://xrpshop.frangout.com","/api/destroy_scripts?shop=").concat(c));case 5:return r=t.sent,n=r.data,e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{scripts:Object(g.a)(Object(g.a)({},e.scripts),{},{destroy:Object(g.a)(Object(g.a)({},te.destroy),{},{success:{ok:!0,data:n}})})})}))),t.abrupt("return",n);case 11:throw t.prev=11,t.t0=t.catch(2),e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{scripts:Object(g.a)(Object(g.a)({},e.scripts),{},{destroy:Object(g.a)(Object(g.a)({},te.destroy),{},{failure:{error:!0,message:t.t0.message||$}})})})}))),t.t0;case 15:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(){return t.apply(this,arguments)}}()}})),re=ce,ne={get:{loading:!1,success:{ok:!1,data:[]},failure:{error:!1,message:""}},post:{loading:!1,success:{ok:!1,data:null},failure:{error:!1,message:""}}},ae=G()((function(e,t){return{viewsState:ne,getViews:function(){var t=Object(F.a)(_.a.mark((function t(){var c,r,n,a,s,o=arguments;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=o.length>0&&void 0!==o[0]?o[0]:{},r=c.shop,n=void 0===r?window.lookbook.shop:r,console.log("ererereerer"),e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{viewsState:Object(g.a)(Object(g.a)({},e.viewsState),{},{get:Object(g.a)(Object(g.a)({},ne.get),{},{loading:!0})})})}))),t.prev=3,t.next=6,K.a.get("".concat("https://xrpshop.frangout.com","/api/get_views?shop=").concat(n));case 6:return a=t.sent,s=a.data,console.log(s),e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{viewsState:Object(g.a)(Object(g.a)({},e.viewsState),{},{get:Object(g.a)(Object(g.a)({},ne.get),{},{success:{ok:!0,data:s}})})})}))),t.abrupt("return",s);case 13:t.prev=13,t.t0=t.catch(3),e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{viewsState:Object(g.a)(Object(g.a)({},e.viewsState),{},{get:Object(g.a)(Object(g.a)({},ne.get),{},{failure:{error:!0,message:t.t0.message||$}})})})})));case 16:case"end":return t.stop()}}),t,null,[[3,13]])})));return function(){return t.apply(this,arguments)}}(),postViews:function(){var t=Object(F.a)(_.a.mark((function t(){var c,r,n,a,s,o,i=arguments;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=i.length>0&&void 0!==i[0]?i[0]:{},r=c.shop,n=void 0===r?window.lookbook.shop:r,a=c.subscribed,e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{viewsState:Object(g.a)(Object(g.a)({},e.viewsState),{},{post:Object(g.a)(Object(g.a)({},ne.post),{},{loading:!0})})})}))),t.prev=2,t.next=5,K.a.get("".concat("https://xrpshop.frangout.com","/api/post_views?shop=").concat(n,"&subscribed=").concat(a));case 5:return s=t.sent,o=s.data,e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{viewsState:Object(g.a)(Object(g.a)({},e.viewsState),{},{post:Object(g.a)(Object(g.a)({},ne.post),{},{success:{ok:!0,data:o}})})})}))),t.abrupt("return",o);case 11:t.prev=11,t.t0=t.catch(2),e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{viewsState:Object(g.a)(Object(g.a)({},e.viewsState),{},{post:Object(g.a)(Object(g.a)({},ne.post),{},{failure:{error:!0,message:t.t0.message||$}})})})})));case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(){return t.apply(this,arguments)}}()}})),se=ae,oe={get:{loading:!1,success:{ok:!1,data:[]},failure:{error:!1,message:""}},post:{loading:!1,success:{ok:!1,data:null},failure:{error:!1,message:""}},destroy:{loading:!1,success:{ok:!1,data:null},failure:{error:!1,message:""}}},ie=G()((function(e,t){return{chargesState:oe,getCharges:function(){var t=Object(F.a)(_.a.mark((function t(){var c,r,n,a,s,o=arguments;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=o.length>0&&void 0!==o[0]?o[0]:{},r=c.shop,n=void 0===r?window.lookbook.shop:r,e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{chargesState:Object(g.a)(Object(g.a)({},e.chargesState),{},{get:Object(g.a)(Object(g.a)({},oe.get),{},{loading:!0})})})}))),t.prev=2,t.next=5,K.a.get("".concat("https://xrpshop.frangout.com","/api/get_charges?shop=").concat(n));case 5:return a=t.sent,s=a.data,e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{chargesState:Object(g.a)(Object(g.a)({},e.chargesState),{},{get:Object(g.a)(Object(g.a)({},oe.get),{},{success:{ok:!0,data:s}})})})}))),t.abrupt("return",s);case 11:t.prev=11,t.t0=t.catch(2),e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{chargesState:Object(g.a)(Object(g.a)({},e.chargesState),{},{get:Object(g.a)(Object(g.a)({},oe.get),{},{failure:{error:!0,message:t.t0.message||$}})})})})));case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(){return t.apply(this,arguments)}}(),postCharges:function(){var t=Object(F.a)(_.a.mark((function t(c){var r,n,a,s,o;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.shop,n=void 0===r?window.lookbook.shop:r,a=c.returnURL,e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{chargesState:Object(g.a)(Object(g.a)({},e.chargesState),{},{post:Object(g.a)(Object(g.a)({},oe.post),{},{loading:!0})})})}))),t.prev=2,t.next=5,K.a.post("".concat("https://xrpshop.frangout.com","/api/post_charges"),{shop:n,returnURL:a});case 5:return s=t.sent,o=s.data,e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{chargesState:Object(g.a)(Object(g.a)({},e.chargesState),{},{post:Object(g.a)(Object(g.a)({},oe.post),{},{success:{ok:!0,data:o}})})})}))),t.abrupt("return",o);case 11:throw t.prev=11,t.t0=t.catch(2),e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{chargesState:Object(g.a)(Object(g.a)({},e.chargesState),{},{post:Object(g.a)(Object(g.a)({},oe.post),{},{failure:{error:!0,message:t.t0.message||$}})})})}))),t.t0;case 15:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}(),destroyCharges:function(){var t=Object(F.a)(_.a.mark((function t(c){var r,n,a,s,o;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.shop,n=void 0===r?window.lookbook.shop:r,a=c.chargeId,e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{chargesState:Object(g.a)(Object(g.a)({},e.chargesState),{},{destroy:Object(g.a)(Object(g.a)({},oe.destroy),{},{loading:!0})})})}))),t.prev=2,t.next=5,K.a.post("".concat("https://xrpshop.frangout.com","/api/delete_charges"),{shop:n,chargeId:a});case 5:return s=t.sent,o=s.data,e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{chargesState:Object(g.a)(Object(g.a)({},e.chargesState),{},{destroy:Object(g.a)(Object(g.a)({},oe.destroy),{},{success:{ok:!0,data:o}})})})}))),t.abrupt("return",o);case 11:throw t.prev=11,t.t0=t.catch(2),e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{chargesState:Object(g.a)(Object(g.a)({},e.chargesState),{},{destroy:Object(g.a)(Object(g.a)({},oe.destroy),{},{failure:{error:!0,message:t.t0.message||$}})})})}))),t.t0;case 15:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}()}})),le=ie,je=n.a.createContext(),ue=function(e){e.look;return Object(S.jsxs)(O.j,{columns:2,spacing:5,marginTop:"5",children:[Object(S.jsxs)(O.g,{align:"top",children:[Object(S.jsx)(O.a,{color:"green.400",px:2,children:Object(S.jsx)(k.a,{as:q.f})}),Object(S.jsxs)(O.m,{align:"start",children:[Object(S.jsx)(O.l,{fontWeight:600,children:"Views"}),Object(S.jsx)(O.l,{color:"gray.600",marginTop:"0",style:{marginTop:0},children:"Total views"})]})]}),Object(S.jsxs)(O.g,{align:"top",children:[Object(S.jsx)(O.a,{color:"green.400",px:2,children:Object(S.jsx)(k.a,{as:q.g})}),Object(S.jsxs)(O.m,{align:"start",children:[Object(S.jsx)(O.l,{fontWeight:600,children:"Clicks"}),Object(S.jsx)(O.l,{color:"gray.600",marginTop:"0",style:{marginTop:0},children:"Total clicks"})]})]}),Object(S.jsxs)(O.g,{align:"top",children:[Object(S.jsx)(O.a,{color:"green.400",px:2,children:Object(S.jsx)(k.a,{as:q.c})}),Object(S.jsxs)(O.m,{align:"start",children:[Object(S.jsx)(O.l,{fontWeight:600,children:"Add to Cart"}),Object(S.jsx)(O.l,{color:"gray.600",marginTop:"0",style:{marginTop:0},children:"Cart revenue"})]})]}),Object(S.jsxs)(O.g,{align:"top",children:[Object(S.jsx)(O.a,{color:"green.400",px:2,children:Object(S.jsx)(k.a,{as:q.h})}),Object(S.jsxs)(O.m,{align:"start",children:[Object(S.jsx)(O.l,{fontWeight:600,children:"Conversion"}),Object(S.jsx)(O.l,{color:"gray.600",marginTop:"0",style:{marginTop:0},children:"Total revenue"})]})]})]})},be=function(e){var t=e.orangeColorMode,c=e.look;return Object(S.jsxs)(O.a,{display:"flex",flex:"1",marginRight:"3",position:"relative",alignItems:"center",children:[Object(S.jsx)(O.a,{zIndex:"1",width:"100%",position:"absolute",height:"100%",children:Object(S.jsx)(O.a,{bgGradient:t,backgroundSize:"20px 20px",opacity:"0.4",height:"100%"})}),Object(S.jsx)(O.a,{width:{base:"100%"},zIndex:"2",children:Object(S.jsx)(V,{medias:c.medias})})]})},de=function(e){return Object(S.jsxs)(O.g,{display:"flex",alignItems:"center",children:[Object(S.jsx)(O.l,{fontWeight:"light",fontSize:"sm",children:"Created at:"}),Object(S.jsx)(O.l,{fontSize:"sm",children:e.date.toLocaleString(D.DateTime.DATETIME_MED)})]})},pe=function(e){var t=e.looks,c=e.orangeColorMode,r=e.getLooks;return t.get.loading?Object(S.jsxs)(O.f,{alignItems:"flex-start",flexDirection:"row",children:[Object(S.jsx)(h.a,{children:Object(S.jsx)(V,{medias:[]})}),Object(S.jsxs)(O.f,{direction:"column",width:"90%",marginLeft:"5",children:[Object(S.jsx)(h.a,{width:"100%",height:"40px"}),Object(S.jsx)("br",{}),Object(S.jsx)(h.a,{width:"100%",height:"20px"}),Object(S.jsx)("br",{}),Object(S.jsx)(h.a,{width:"100%",height:"20px"}),Object(S.jsx)("br",{}),Object(S.jsx)(h.a,{width:"100%",height:"20px"})]})]}):t.get.failure.error?Object(S.jsx)(O.a,{children:Object(S.jsxs)(O.f,{direction:"column",align:"center",children:[Object(S.jsx)(O.m,{spacing:"3",children:Object(S.jsx)(O.h,{as:"h1",size:"md",children:t.get.failure.message})}),Object(S.jsx)("br",{}),Object(S.jsx)(O.e,{}),Object(S.jsx)("br",{}),Object(S.jsx)(O.m,{spacing:"3",children:Object(S.jsx)(m.a,{onClick:function(){return r()},children:"Try Again"})})]})}):t.get.success.data.length?t.get.success.data.map((function(e){return Object(S.jsxs)(O.a,{children:[Object(S.jsxs)(O.a,{marginTop:{base:"1",sm:"5"},marginBottom:{base:"1",sm:"5"},display:"flex",flexDirection:{base:"column",sm:"row"},justifyContent:"space-between",padding:"20px",boxShadow:"md",borderRadius:"10px",bg:"white",children:[be({orangeColorMode:c,look:e}),Object(S.jsxs)(O.a,{display:"flex",flex:"1",flexDirection:"column",justifyContent:"flex-start",marginTop:{base:"3",sm:"0"},children:[Object(S.jsxs)(h.a,{isLoaded:!t.get.loading,children:[Object(S.jsx)(O.l,{fontSize:"3xl",marginTop:"1",textTransform:"capitalize",children:Object(S.jsx)(i.b,{textDecoration:"none",_hover:{textDecoration:"none"},to:"looks/".concat(e.objectId),children:e.name})}),Object(S.jsx)(de,{date:e.createdAt})]}),ue({look:e}),Object(S.jsx)(O.k,{direction:"row",spacing:4,marginTop:"5",children:Object(S.jsx)(i.b,{to:"looks/".concat(e.objectId),children:Object(S.jsx)(m.a,{colorScheme:"blue",isFullWidth:!0,leftIcon:Object(S.jsx)(q.b,{}),variant:"solid",children:"View / Modify"})})})]})]},e.objectId),Object(S.jsx)(O.e,{marginTop:"1em",marginBottom:"1em"})]},e.objectId)})):t.get.success.data.length?null:Object(S.jsx)(O.a,{children:Object(S.jsxs)(O.f,{direction:"column",align:"center",children:[Object(S.jsxs)(O.m,{spacing:"3",children:[Object(S.jsx)(O.h,{as:"h1",size:"md",children:"You have not created any curations yet."}),Object(S.jsx)(O.l,{children:"\u2705 To start accepting XRP payments create a curation of products and set a price in XRP."})]}),Object(S.jsx)("br",{}),Object(S.jsx)(O.e,{}),Object(S.jsx)("br",{}),Object(S.jsx)(O.m,{spacing:"3",children:Object(S.jsx)(i.b,{to:"/looks/create",children:Object(S.jsx)(m.a,{colorScheme:"blue",children:"Create a curated XRP collection."})})})]})})};function Oe(e){var t=ee((function(e){return e.looks})),c=ee((function(e){return e.getLooks})),n=Object(r.useContext)(je),a=re((function(e){return e.scripts})),s=re((function(e){return e.postScripts})),o=re((function(e){return e.getScripts})),i=re((function(e){return e.destroyScripts})),l=Object(L.a)(),j=Object(x.c)(),u=j.isOpen,b=j.onOpen,d=j.onClose,p=Object(f.d)("radial(orange.600 1px, transparent 1px)","radial(orange.300 1px, transparent 1px)"),h=le((function(e){return e.getCharges})),g=le((function(e){return e.postCharges})),v=le((function(e){return e.chargesState})),w=le((function(e){return e.destroyCharges})),k=se((function(e){return e.postViews})),C=function(){var e=Object(F.a)(_.a.mark((function e(){var t,c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h({shop:n});case 3:t=e.sent,console.log(t),c=t.recurringApplicationCharges.find((function(e){return"active"===e.status})),k(c?{shop:n,subscribed:!0}:{shop:n,subscribed:!1}),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)(Object(F.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(),o(n),C();case 3:case"end":return e.stop()}}),e)}))),[]);return Object(S.jsxs)(O.a,{height:"100%",children:[function(e){if(!e.looks.get.success.data.length)return null;var t=function(){var e=Object(F.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s(n);case 3:l({title:"Widget added successfully! Please visit your online store after 30 seconds to check the widget.",status:"success"}),o(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),l({title:e.t0.message||$,status:"error"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=Object(F.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i(n);case 3:l({title:"Widget removed successfully!",status:"success"}),o(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),l({title:e.t0.message||$,status:"error"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(S.jsx)(R.a,{status:"info",boxShadow:"md",children:Object(S.jsxs)(O.f,{direction:"row",justifyContent:"space-between",width:"100%",alignItems:"center",height:"100%",children:[Object(S.jsx)(O.k,{children:a.get.loading?null:a.get.success.data.length?Object(S.jsxs)(O.f,{direction:"column",children:[Object(S.jsxs)(O.l,{children:['"XRP Coupons" widget ',Object(S.jsx)("b",{children:"has been added"})," to your store page. \xa0"]}),Object(S.jsxs)(O.l,{cursor:"pointer",onClick:b,style:{textDecoration:"underline"},children:["For custom widget position instructions ",Object(S.jsx)("b",{children:"click here."})]})]}):Object(S.jsxs)(O.l,{children:['"XRP Coupons" widget is ',Object(S.jsx)("b",{children:"not added"})," to your store page."]})}),Object(S.jsx)(m.b,{variant:"outline",spacing:"6",children:a.get.loading?Object(S.jsx)(m.a,{colorScheme:"gray",isLoading:!0,isDisabled:!0,children:"Loading ..."}):a.get.success.data.length?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(O.i,{target:"_blank",href:"http://".concat(n,"#frangout-shop-look-app-wrapper"),children:Object(S.jsx)(m.a,{fontWeight:"bold",size:"md",colorScheme:"green",variant:"ghost",leftIcon:Object(S.jsx)(y.g,{}),children:"Preview Widget"})}),Object(S.jsx)(m.a,{isLoading:a.destroy.loading||a.get.loading,fontWeight:"bold",size:"md",colorScheme:"red",onClick:c,children:"Remove Widget"})]}):Object(S.jsx)(m.a,{isLoading:a.post.loading||a.get.loading,fontWeight:"bold",size:"md",colorScheme:"blue",onClick:t,children:"Add Widget To Your Store"})})]})})}({looks:t}),Object(S.jsx)(O.e,{}),v.get.loading?null:v.get.success.ok?Object(S.jsx)(R.a,{status:"info",children:Object(S.jsxs)(O.f,{direction:"row",justifyContent:"space-between",width:"100%",alignItems:"center",height:"100%",children:[Object(S.jsxs)(O.k,{children:[Object(S.jsxs)(O.l,{children:["The XRP Coupons widget on your store has"," ",Object(S.jsx)("b",{children:v.get.success.data.views.count})," views"," "]}),Object(S.jsx)(O.l,{children:"The first 1000 views are free. Please subscribe to our flat $4.99/month paid plan for unlimited views."})]}),Object(S.jsx)(m.b,{variant:"outline",spacing:"6",children:function(){var e=v.get.success.data.recurringApplicationCharges.find((function(e){return"active"===e.status}));return e?Object(S.jsx)(m.a,{isLoading:v.destroy.loading,fontWeight:"bold",size:"md",colorScheme:"red",onClick:Object(F.a)(_.a.mark((function t(){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w({chargeId:e.id});case 2:t.sent,h({shop:n}),C();case 5:case"end":return t.stop()}}),t)}))),children:"Cancel Paid Plan"}):e?void 0:Object(S.jsx)(m.a,{isLoading:v.post.loading,fontWeight:"bold",size:"md",colorScheme:"blue",onClick:Object(F.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g({returnURL:"https://".concat(n,"/admin/apps/").concat("xrp-shop")});case 2:(t=e.sent)&&(window.self!==window.top?window.parent.location.href=t.confirmation_url:window.location.href=t.confirmation_url);case 4:case"end":return e.stop()}}),e)}))),children:"$4.99/month for unlimited views"})}()})]})}):v.get.failure.error?null:void 0,Object(S.jsx)(O.d,{maxW:"3xl",py:"5",height:"100%",children:pe({looks:t,orangeColorMode:p,getLooks:c})}),Object(S.jsxs)(E.a,{onClose:d,isOpen:u,isCentered:!0,size:"3xl",children:[Object(S.jsx)(E.g,{}),Object(S.jsxs)(E.d,{children:[Object(S.jsx)(E.f,{children:"Custom Widget Position"}),Object(S.jsx)(E.c,{}),Object(S.jsxs)(E.b,{textAlign:"center",children:["If you want the widget only on certain pages or only in certain positions please add the following html tag to custom liquid or custom html section.",Object(S.jsx)("br",{}),Object(S.jsx)("br",{}),Object(S.jsx)("b",{children:Object(S.jsx)(O.c,{size:"xl",children:'<div id="frangout-shop-look-app"> </div>'})}),Object(S.jsx)("br",{}),Object(S.jsx)("br",{}),Object(S.jsx)("iframe",{width:"720",height:"405",src:"https://www.youtube.com/embed/poWt-ssYDM8",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0})]}),Object(S.jsx)(E.e,{children:Object(S.jsx)(m.a,{onClick:d,children:"Ok"})})]})]})]})}Oe.defaultProps={};var he=Oe,ge=c(232),xe=c(377);function fe(){var e=Object(r.useState)(""),t=Object(p.a)(e,2),c=t[0],n=t[1],a=Object(r.useState)(!1),s=Object(p.a)(a,2),o=s[0],i=s[1];return Object(S.jsx)(O.a,{marginTop:"24",children:Object(S.jsx)(O.m,{children:Object(S.jsxs)(O.a,{boxSize:"lg",children:[Object(S.jsxs)(O.m,{spacing:"3",children:[Object(S.jsx)(O.h,{as:"h1",size:"md",children:"Shopify Store Authentication"}),Object(S.jsx)(O.l,{children:"The access data to your Shopify site has expired."})]}),Object(S.jsx)("br",{}),Object(S.jsx)(O.e,{}),Object(S.jsx)("br",{}),Object(S.jsxs)(O.m,{spacing:"3",children:[Object(S.jsxs)(ge.a,{id:"shopify-site",isRequired:!0,isInvalid:o,children:[Object(S.jsx)(ge.d,{children:"Shopify site sub domain"}),Object(S.jsxs)(xe.b,{children:[Object(S.jsx)(xe.c,{children:"https://"}),Object(S.jsx)(xe.a,{onChange:function(e){return n(e.target.value)},type:"text",value:c,placeholder:"yourstore.myshopify.com"})]}),Object(S.jsx)(ge.b,{children:"This is required"})]}),Object(S.jsx)(m.a,{onClick:function(){if(!c)return i(!0),!1;window.location.href="".concat("https://xrpshop.frangout.com","/shopify?shop=").concat(c)},isFullWidth:!0,children:"Authorize"})]})]})})})}var me=function(){var e=Object(r.useState)(!1),t=Object(p.a)(e,2),c=t[0],n=t[1],a=Object(r.useState)(!1),s=Object(p.a)(a,2),o=s[0],i=s[1],l=Object(r.useState)(!1),j=Object(p.a)(l,2),u=j[0],g=j[1],x=Object(r.useState)(!1),f=Object(p.a)(x,2),m=f[0],v=f[1],w=Object(r.useState)(!1),k=Object(p.a)(w,2),y=k[0],I=k[1];return Object(r.useEffect)((function(){var e=b(window.location.search),t=e.code,c=e.session,r=e.hmac,a=e.embed,s=e.host,o=void 0===s?"":s,l=(e.userToken,e.baseCurrency),j=void 0===l?"USD":l;window.lookbook=b(window.location.search),window.localStorage.setItem("baseCurrency",j),c?(n(!0),i(!1),g(!1),v(!1)):t?(n(!1),i(!1),g(!0),v(!1),window.location.replace("".concat("https://xrpshop.frangout.com","/shopify/callback").concat(document.location.search))):r?(n(!1),i(!0),g(!1),v(!1),window.location.replace("".concat("https://xrpshop.frangout.com","/shopify").concat(document.location.search))):!o||t||r?a&&(I(!0),n(!1),i(!1),g(!1),v(!1)):(v(!0),n(!1),i(!1),g(!1))}),[]),c?Object(S.jsxs)(O.a,{bg:"#f6f6f7",height:"100%",children:[Object(S.jsx)(C,{}),Object(S.jsx)(he,{})]}):y?Object(S.jsx)(d.a,{to:"/embed",replace:!0}):o||u||m?Object(S.jsx)(O.d,{maxW:"7xl",p:"12",children:Object(S.jsxs)(O.f,{alignItems:"flex-start",flexDirection:"row",children:[Object(S.jsx)(h.a,{children:Object(S.jsx)(O.a,{})}),Object(S.jsxs)(O.f,{direction:"column",width:"90%",marginLeft:"5",children:[Object(S.jsx)(h.a,{width:"100%",height:"40px"}),Object(S.jsx)("br",{}),Object(S.jsx)(h.a,{width:"100%",height:"20px"}),Object(S.jsx)("br",{}),Object(S.jsx)(h.a,{width:"100%",height:"20px"}),Object(S.jsx)("br",{}),Object(S.jsx)(h.a,{width:"100%",height:"20px"})]})]})}):Object(S.jsx)(fe,{})},ve=c(30),we=c(378),ke=c(233),ye=c(5),Se=c(379),Ce=c(229),Ie=function(){var e=Object(F.a)(_.a.mark((function e(t){var c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new FileReader).readAsDataURL(t),e.abrupt("return",new Promise((function(e,t){c.onload=function(){return e(c.result)},c.onerror=function(e){return t(e)}})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ze={get:{loading:!1,success:{ok:!1,data:null},failure:{error:!1,message:""}},post:{loading:!1,success:{ok:!1,data:null},failure:{error:!1,message:""}},destroy:{loading:!1,success:{ok:!1,data:null},failure:{error:!1,message:""}}},We=G()((function(e,t){return{files:ze,getFiles:function(){var t=Object(F.a)(_.a.mark((function t(){var c;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{files:Object(g.a)(Object(g.a)({},e.files),{},{get:Object(g.a)(Object(g.a)({},ze.get),{},{loading:!0})})})}))),t.prev=1,t.next=4,K.a.get("",{headers:{Authorization:"Bearer ".concat(window.localStorage.getItem("thinkificAccessToken")),accept:"application/json"}});case 4:c=t.sent,c.data,e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{files:Object(g.a)(Object(g.a)({},e.files),{},{get:Object(g.a)(Object(g.a)({},ze.get),{},{success:{ok:!0,data:[]}})})})}))),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{files:Object(g.a)(Object(g.a)({},e.files),{},{get:Object(g.a)(Object(g.a)({},ze.get),{},{failure:{error:!0,message:t.t0.message||$}})})})})));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(){return t.apply(this,arguments)}}(),postFiles:function(){var t=Object(F.a)(_.a.mark((function t(c){var r,n;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{files:Object(g.a)(Object(g.a)({},e.files),{},{post:Object(g.a)(Object(g.a)({},ze.post),{},{loading:!0})})})}))),t.prev=1,t.next=4,Promise.all(c.map(function(){var e=Object(F.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie(t);case 2:return e.t0=e.sent,e.t1=t.type,e.abrupt("return",{data:e.t0,type:e.t1});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:return r=t.sent,t.next=7,Promise.all(r.map(function(){var e=Object(F.a)(_.a.mark((function e(t){var c,r,n,a,s;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new j.a.File("looks",{base64:t.data},t.type),e.next=3,K.a.post("".concat("https://xrpshop.frangout.com","/parse/files/looks"),{base64:(null===n||void 0===n||null===(c=n._source)||void 0===c?void 0:c.base64)||n._data,_ApplicationId:j.a.applicationId,_ClientVersion:"js3.4.1",_ContentType:null===n||void 0===n||null===(r=n._source)||void 0===r?void 0:r.type,_JavaScriptKey:j.a.javaScriptKey,fileData:{metadata:{},tags:{}}},{headers:{"content-type":"text/plain"}});case 3:return a=e.sent,s=a.data,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 7:return n=t.sent,e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{files:Object(g.a)(Object(g.a)({},e.files),{},{post:Object(g.a)(Object(g.a)({},ze.post),{},{success:{ok:!0,data:n}})})})}))),t.abrupt("return",n);case 12:throw t.prev=12,t.t0=t.catch(1),e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{files:Object(g.a)(Object(g.a)({},e.files),{},{post:Object(g.a)(Object(g.a)({},ze.post),{},{failure:{error:!0,message:t.t0.message||$}})})})}))),t.t0;case 16:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}(),destroyFiles:function(){var t=Object(F.a)(_.a.mark((function t(c){var r,n;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{files:Object(g.a)(Object(g.a)({},e.files),{},{destroy:Object(g.a)(Object(g.a)({},ze.destroy),{},{loading:!0})})})}))),t.prev=1,t.next=4,K.a.delete("",{headers:{Authorization:"Bearer ".concat(window.localStorage.getItem("thinkificAccessToken")),accept:"*/*","Access-Control-Allow-Origin":"*"}});case 4:return r=t.sent,n=r.data,e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{files:Object(g.a)(Object(g.a)({},e.files),{},{destroy:Object(g.a)(Object(g.a)({},ze.destroy),{},{success:{ok:!0,data:n}})})})}))),t.abrupt("return",n);case 10:throw t.prev=10,t.t0=t.catch(1),e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{files:Object(g.a)(Object(g.a)({},e.files),{},{destroy:Object(g.a)(Object(g.a)({},ze.destroy),{},{failure:{error:!0,message:t.t0.message||$}})})})}))),t.t0;case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()}})),Ae=We,Te=c(434);var Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isOpen,c=void 0!==t&&t,n=e.onClose,a=(e.on,Ae((function(e){return e.files}))),s=Ae((function(e){return e.postFiles})),o=Object(L.a)(),i=Object(r.useState)([]),l=Object(p.a)(i,2),j=l[0],u=l[1],b=Object(r.useCallback)(function(){var e=Object(F.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(t.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d=Object(Te.a)({onDrop:b,accept:"image/*",maxFiles:3,multiple:!0}),h=d.getRootProps,x=d.getInputProps,v=d.isDragActive;Object(r.useEffect)((function(){u([])}),[]),Object(r.useEffect)((function(){return function(){j.forEach((function(e){return URL.revokeObjectURL(e.preview)}))}}),[j]);var w=function(){var e=Object(F.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s(j);case 3:t=e.sent,u([]),n(t||[]),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),o({title:"Incognito mode is not allowed. "+(e.t0.message||$),status:"error"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),k=v?"Drop upto 3 png, jpeg or gifs here ...":"Drag 'n' drop upto 3 png, jpeg or gifs files here, or click to select uploads",y=Object(f.d)("gray.100","gray.600"),C=Object(f.d)(v?"teal.300":"gray.300",v?"teal.500":"gray.500");return Object(S.jsxs)(E.h,{isOpen:c,onClose:n,closeOnOverlayClick:!1,onEsc:function(){return u([])},children:[Object(S.jsx)(E.n,{}),Object(S.jsxs)(E.k,{children:[Object(S.jsx)(E.m,{children:"Add images for this curation."}),Object(S.jsxs)(E.i,{children:[Object(S.jsx)(O.b,Object(g.a)(Object(g.a)({p:10,cursor:"pointer",bg:v?y:"transparent",_hover:{bg:y},transition:"background-color 0.2s ease",borderRadius:4,border:"3px dashed",borderColor:C},h()),{},{children:Object(S.jsx)(O.m,{children:Object(S.jsxs)("div",{children:[Object(S.jsx)("input",Object(g.a)({},x())),Object(S.jsx)(O.l,{textAlign:"center",children:k})]})})})),Object(S.jsx)(O.b,{children:Object(S.jsx)(O.j,{spacing:5,columns:3,marginTop:"5",children:j.map((function(e){return Object(S.jsx)(ke.a,{src:e.preview,width:100,height:100,objectFit:"cover",borderRadius:"5",borderColor:"gray",borderWidth:"2"},e.name)}))})})]}),Object(S.jsxs)(E.l,{children:[Object(S.jsx)(m.a,{variant:"ghost",onClick:function(){u([]),n([])},colorScheme:"red",children:"Close"}),Object(S.jsx)(m.a,{colorScheme:"teal",mr:3,onClick:w,loadingText:"Uploading...",isLoading:a.post.loading,children:"Upload"})]})]})]})},Pe={get:{loading:!1,success:{ok:!1,data:[]},failure:{error:!1,message:""}}},_e=G()((function(e){return{currencyExchangeState:Pe,getCurrencyExchangeState:function(){var t=Object(F.a)(_.a.mark((function t(){var c;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{currencyExchangeState:Object(g.a)(Object(g.a)({},e.currencyExchangeState),{},{get:Object(g.a)(Object(g.a)({},Pe.get),{},{loading:!0})})})}))),t.prev=1,t.next=4,K.a.get("https://api.coingecko.com/api/v3/simple/price?ids=usd&vs_currencies=xrp");case 4:return c=t.sent,e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{currencyExchangeState:Object(g.a)(Object(g.a)({},e.currencyExchangeState),{},{get:Object(g.a)(Object(g.a)({},Pe.get),{},{success:{ok:!0,data:c.data.usd}})})})}))),t.abrupt("return",c);case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(){return t.apply(this,arguments)}}()}})),Le=_e,Re=function(){return Object(S.jsxs)(O.f,{direction:"column",width:"100%",children:[Object(S.jsx)(h.a,{width:"100%",height:"40px",children:" "}),Object(S.jsx)(h.c,{mt:"4",noOfLines:1,spacing:"4"}),Object(S.jsx)("br",{}),Object(S.jsx)("br",{}),Object(S.jsxs)(O.a,{children:[Object(S.jsx)(h.b,{size:"20"}),Object(S.jsx)(h.c,{mt:"4",noOfLines:4,spacing:"4"})]})]})};function Ee(e){var t=Object(r.useContext)(je),c=Object(x.c)(),n=c.isOpen,a=c.onOpen,s=c.onClose,o=Object(x.c)(),i=o.isOpen,l=o.onOpen,j=o.onClose,b=ee((function(e){return e.looks})),h=(Ae((function(e){return e.files})),ee((function(e){return e.getLooks}))),v=ee((function(e){return e.postLooks})),w=ee((function(e){return e.destroyLooks})),y=ee((function(e){return e.patchLooks})),I=re((function(e){return e.scripts})),z=re((function(e){return e.postScripts})),W=re((function(e){return e.getScripts})),A=Le((function(e){return e.currencyExchangeState})),T=Le((function(e){return e.getCurrencyExchangeState})),P=Object(d.h)().id,R=void 0===P?"":P,E=Object(L.a)(),D=(Object(d.g)(),Object(f.d)("gray.100","gray.700"),Object(r.useState)(e.looks.name)),X=Object(p.a)(D,2),U=X[0],B=X[1],N=Object(r.useState)(e.looks.price),M=Object(p.a)(N,2),V=M[0],H=M[1],G=Object(r.useState)(),Y=Object(p.a)(G,2),K=Y[0],J=Y[1],Q=Object(r.useState)(e.looks.files||[]),Z=Object(p.a)(Q,2),te=Z[0],ce=Z[1],ne=Object(r.useState)(e.looks.products||[]),ae=Object(p.a)(ne,2),se=ae[0],oe=ae[1],ie=Object(r.useState)(),le=Object(p.a)(ie,2),ue=le[0],be=(le[1],Object(r.useState)("")),de=Object(p.a)(be,2),pe=de[0],Oe=de[1],he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];ce([].concat(Object(ve.a)(te),Object(ve.a)(e))),s()};console.log(A.get.success.data.xrp),console.log(ue);var fe=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.log(t),oe(Object(ve.a)(null===t||void 0===t||null===(e=t.selection)||void 0===e?void 0:e.map((function(e){var t,c;return{title:e.title,image:e.images[0]&&(null===(t=e.images[0])||void 0===t?void 0:t.originalSrc)||"",id:e.id,price:parseInt(null===(c=e.variants[0])||void 0===c?void 0:c.price)||0}})).filter(Boolean))),j();var c=t.selection.reduce((function(e,t){return e+parseFloat(t.variants[0].price)}),0);Oe(c)},me=function(){var e=Object(F.a)(_.a.mark((function e(){var t,c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!R){e.next=5;break}return e.next=3,h({id:R});case 3:(t=e.sent)&&(B(null===t||void 0===t?void 0:t.name),ce([].concat(Object(ve.a)(te),Object(ve.a)(null===t||void 0===t?void 0:t.medias))),H(null===t||void 0===t?void 0:t.price),oe([].concat(Object(ve.a)(se),Object(ve.a)(null===t||void 0===t?void 0:t.products.map((function(e){var t,c;return{id:e.admin_graphql_api_id,title:e.title,image:null===e||void 0===e||null===(t=e.image)||void 0===t?void 0:t.src,price:parseInt(null===(c=e.variants[0])||void 0===c?void 0:c.price)||0}}))))),0,c=t.products.reduce((function(e,t){return e+parseFloat(t.variants[0].price)}),0),Oe(c));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){me(),T()}),[]);var Ie=function(){var e=Object(F.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w(t);case 3:E({title:"Look deleted!",status:"success"}),window.history.back(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),E({title:e.t0.message||$,status:"error"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ze=function(){return se.map((function(e,t){return Object(S.jsxs)(we.g,{children:[Object(S.jsx)(we.d,{children:Object(S.jsx)(ke.a,{objectFit:"contain",boxSize:"50px",src:e.image,color:"yellow.500"})}),Object(S.jsx)(we.d,{children:e.title}),Object(S.jsx)(we.d,{isNumeric:!0,children:e.price}),Object(S.jsx)(we.d,{textAlign:"center",children:Object(S.jsx)(k.a,{as:q.d,color:"red.500",w:5,h:5,onClick:function(){return function(e){se.splice(e,1),oe(Object(ve.a)(se.filter(Boolean)));var t=se.reduce((function(e,t){return e+parseFloat(t.price)}),0);Oe(t)}(t)}})})]})}))};return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(C,{}),Object(S.jsxs)(O.a,{position:"relative",children:[Object(S.jsx)(O.d,{as:O.j,maxW:"7xl",columns:{base:1,md:1},spacing:{base:10,lg:32},py:{base:10,sm:15,lg:20},children:Object(S.jsx)(O.k,{bg:"gray.50",rounded:"xl",p:{base:4,sm:6,md:8},spacing:{base:8},maxW:"3xl",zIndex:"9",margin:"0 auto",width:"100%",children:function(){if(A.get.loading)return Re();if(!A.get.failure.error){if(b.get.loading)return Re();if(b.get.failure.error)return Object(S.jsx)(O.a,{children:Object(S.jsxs)(O.f,{direction:"column",align:"center",children:[Object(S.jsx)(O.m,{spacing:"3",children:Object(S.jsx)(O.h,{as:"h1",size:"md",children:b.get.failure.message})}),Object(S.jsx)("br",{}),Object(S.jsx)(O.e,{}),Object(S.jsx)("br",{}),Object(S.jsx)(O.m,{spacing:"3",children:Object(S.jsx)(m.a,{onClick:function(){return me()},children:"Try Again"})})]})});var c,r=(null===b||void 0===b||null===(c=b.get)||void 0===c?void 0:c.success).data;return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(O.k,{spacing:4,children:[Object(S.jsx)(O.h,{color:"gray.800",lineHeight:1.1,fontSize:{base:"2xl",sm:"3xl",md:"4xl"},children:r&&r.name?r.name:"Create a shoppable curation"}),Object(S.jsx)(O.h,{size:"sm",children:"Items in this curation can be bought by paying with XRP"})]}),Object(S.jsx)(O.a,{mt:10,children:Object(S.jsxs)(ye.d.form,Object(g.a)(Object(g.a)({onSubmit:function(){var e=Object(F.a)(_.a.mark((function e(c){var r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),e.prev=1,!R){e.next=7;break}return e.next=5,y({id:R,name:U,price:V,xrpPrice:K,medias:te,products:se.map((function(e){return e.id}))});case 5:e.next=24;break;case 7:return e.next=9,v({name:U,price:V,xrpPrice:K,medias:te,products:se.map((function(e){return e.id}))});case 9:return e.prev=9,e.next=12,W(t);case 12:if(!(r=e.sent)||!r.length){e.next=16;break}e.next=18;break;case 16:return e.next=18,z(t);case 18:window.history.back(),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(9),window.history.back();case 24:E({title:"Looks ".concat(R?"updated":"created"," successfully!"),status:"success"}),e.next=30;break;case 27:e.prev=27,e.t1=e.catch(1),E({title:e.t1.message||$,status:"error"});case 30:case"end":return e.stop()}}),e,null,[[1,27],[9,21]])})));return function(t){return e.apply(this,arguments)}}()},e),{},{children:[Object(S.jsxs)(O.k,{spacing:4,children:[Object(S.jsxs)(ge.a,{id:"look-name",children:[Object(S.jsx)(ge.d,{children:"Give this curation a name"}),Object(S.jsx)(xe.a,{placeholder:"XRP Meetup Looks For Developers",name:"look_name",type:"text",value:U,onChange:function(e){return B(e.target.value)},required:!0})]}),Object(S.jsxs)(ge.a,{children:[Object(S.jsx)(ge.d,{children:"Add pictures for the kind of fashion and looks buyers can create by shopping for items in this curation."}),Object(S.jsxs)(Se.c,{children:[te.map((function(e,t){return Object(S.jsx)(Se.a,{name:e._name||e.name,src:e._url||e.url,size:"lg",position:"relative",zIndex:2,_before:{content:'""',width:"full",height:"full",rounded:"full",transform:"scale(1.125)",bgGradient:"linear(to-bl, #7919FF,#7919FF)",position:"absolute",zIndex:-1,top:0,left:0},children:Object(S.jsx)(Se.b,{boxSize:"1.25em",bg:"#7919FF",onClick:function(){return function(e,t){te.splice(t,1),ce(Object(ve.a)(te.filter(Boolean)))}(0,t)},children:Object(S.jsx)(k.a,{as:q.e,color:"white.500",w:5,h:5})})},(e._name||e.name)+t)})),Object(S.jsx)(Se.a,{onClick:a,size:"lg",bg:"#7919FF",_hover:{bg:"#7919FF"},cursor:"pointer",icon:Object(S.jsx)(q.a,{size:"2em",color:"white"}),_before:{content:'""',width:"full",height:"full",rounded:"full",transform:"scale(1.2)",bgGradient:"linear(to-bl, #7919FF, #7919FF)",position:"absolute",zIndex:-1,top:0,left:0}})]}),Object(S.jsx)(Fe,{isOpen:n,onClose:he})]}),Object(S.jsx)("br",{}),Object(S.jsx)("br",{}),Object(S.jsxs)(ge.a,{id:"look-products",children:[Object(S.jsx)(ge.d,{children:"Select products from your store that customers should shop for to form the looks you made above."}),Object(S.jsx)(we.b,{pb:"10px",children:Object(S.jsxs)(we.a,{variant:"striped",colorScheme:"gray",children:[Object(S.jsx)(we.f,{children:Object(S.jsxs)(we.g,{children:[Object(S.jsx)(we.e,{children:"Product Image"}),Object(S.jsx)(we.e,{children:"Product Name"}),Object(S.jsx)(we.e,{isNumeric:!0,children:"Product Price"}),Object(S.jsx)(we.e,{children:"Action"})]})}),Object(S.jsxs)(we.c,{children:[ze(),pe?Object(S.jsxs)(we.g,{children:[Object(S.jsx)(we.d,{}),Object(S.jsxs)(we.d,{isNumeric:!0,fontWeight:"bold",children:["Total Product Price"," "]}),Object(S.jsx)(we.d,{isNumeric:!0,children:Object(S.jsxs)(O.l,{size:"14px",fontWeight:"bold",children:[window.localStorage.getItem("baseCurrency")," ",pe]})}),Object(S.jsx)(we.d,{})]}):null]})]})}),Object(S.jsx)(m.a,{fontFamily:"heading",bg:"gray.200",color:"gray.800",onClick:l,children:"Link products +"}),Object(S.jsx)(u.ResourcePicker,{onSelection:fe,onCancel:j,selectMultiple:!0,showVariants:!1,resourceType:"Product",open:i,initialSelectionIds:se.map((function(e){return{id:e.id}})).filter(Boolean)})]}),Object(S.jsxs)(ge.a,{id:"look-price",children:[Object(S.jsxs)(ge.d,{children:["Customers will be able to checkout and buy all of the products in this curation by paying in XRP.",Object(S.jsx)("br",{}),"Add one price in USD for all of the above products"]}),Object(S.jsxs)(xe.b,{children:[Object(S.jsx)(xe.c,{children:"USD"}),Object(S.jsx)(xe.a,{placeholder:"100",name:"look_price",type:"text",value:V,onChange:function(e){H(e.target.value)},onBlur:function(e){return function(e){console.log(e),J((A.get.success.data.xrp*e).toFixed(2))}(e.target.value)},required:!0}),Object(S.jsx)(xe.d,{w:"50%",children:A.get.loading?Object(S.jsx)(Ce.a,{}):"".concat(K||"0"," XRP")})]}),Object(S.jsx)(ge.c,{children:"The total number of XRP a customer has to pay to shop all of the above products in this curation. Please add a discounted price to encourage community."})]})]}),Object(S.jsxs)(m.b,{mt:8,width:"full",children:[r&&r.objectId?Object(S.jsx)(m.a,{isLoading:b.destroy.loading,onClick:function(){return Ie(r.objectId)},isFullWidth:!0,variant:"ghost",colorScheme:"red",children:"Delete Curation"}):null,Object(S.jsx)(m.a,{isLoading:b.post.loading||b.patch.loading||I.get.loading||I.post.loading,disabled:b.post.loading||b.patch.loading||I.get.loading||I.post.loading,loadingText:"".concat(R?"Updating":"Saving"," curation"),type:"submit",fontFamily:"heading",isFullWidth:!0,w:"full",bgGradient:"linear(to-r, #c8ae01,#fc73a3)",color:"white",_hover:{bgGradient:"linear(to-r, #c8ae01,#fc73a3)",boxShadow:"xl"},children:"".concat(R?"Update":"Save"," curation")})]})]}))})]})}O.a,O.f,O.m,O.h,A.get.failure.message,O.e,O.m,m.a}()})}),Object(S.jsx)(De,{position:"absolute",top:30,left:-10,style:{filter:"blur(70px)"}})]})]})}var De=function(e){return Object(S.jsxs)(k.a,Object(g.a)(Object(g.a)({width:Object(X.a)({base:"100%",md:"40vw",lg:"30vw"}),zIndex:Object(X.a)({base:-1,md:-1,lg:0}),height:"560px",viewBox:"0 0 528 560",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:[Object(S.jsx)("circle",{cx:"71",cy:"61",r:"111",fill:"#7919FF"}),Object(S.jsx)("circle",{cx:"244",cy:"106",r:"139",fill:"#28b86a"}),Object(S.jsx)("circle",{cy:"291",r:"139",fill:"#7919FF"}),Object(S.jsx)("circle",{cx:"80.5",cy:"189.5",r:"101.5",fill:"#ff6719"}),Object(S.jsx)("circle",{cx:"196.5",cy:"317.5",r:"101.5",fill:"#7919FF"}),Object(S.jsx)("circle",{cx:"70.5",cy:"458.5",r:"101.5",fill:"#e24cff"}),Object(S.jsx)("circle",{cx:"426.5",cy:"-0.5",r:"101.5",fill:"#7919FF"})]}))};Ee.defaultProps={looks:{name:""}};var Xe=Ee,Ue=c(433),Be=c(288),Ne=c(432),Me=c.n(Ne),Ve={get:{loading:!1,success:{ok:!1,data:[]},failure:{error:!1,message:""}},post:{loading:!1,success:{ok:!1,data:null},failure:{error:!1,message:""}}},qe=G()((function(e,t){return{walletState:Ve,getWalletAddress:function(){var t=Object(F.a)(_.a.mark((function t(c){var r,n;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{walletState:Object(g.a)(Object(g.a)({},e.walletState),{},{get:Object(g.a)(Object(g.a)({},Ve.get),{},{loading:!0})})})}))),t.prev=1,t.next=4,K.a.get("".concat("https://xrpshop.frangout.com","/api/get_shop?shop=").concat(c));case 4:return r=t.sent,n=r.data,e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{walletState:Object(g.a)(Object(g.a)({},e.walletState),{},{get:Object(g.a)(Object(g.a)({},Ve.get),{},{success:{ok:!0,data:n}})})})}))),t.abrupt("return",n);case 10:throw t.prev=10,t.t0=t.catch(1),t.t0;case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}(),postWalletAddress:function(){var t=Object(F.a)(_.a.mark((function t(c){var r,n,a,s;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.shop,n=c.walletAddress,e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{walletState:Object(g.a)(Object(g.a)({},e.walletState),{},{post:Object(g.a)(Object(g.a)({},Ve.post),{},{loading:!0})})})}))),t.prev=2,t.next=5,K.a.post("".concat("https://xrpshop.frangout.com","/api/put_shop"),{shop:r,walletAddress:n});case 5:return a=t.sent,s=a.data,console.log(s),e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{walletState:Object(g.a)(Object(g.a)({},e.walletState),{},{post:Object(g.a)(Object(g.a)({},Ve.post),{},{loading:!1,success:{ok:!0}})})})}))),t.abrupt("return",s);case 12:throw t.prev=12,t.t0=t.catch(2),console.log(t.t0),e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{walletState:Object(g.a)(Object(g.a)({},e.walletState),{},{post:Object(g.a)(Object(g.a)({},Ve.post),{},{loading:!1,success:{ok:!1},failure:{error:!1,message:"Please Verify the Wallet Address"}})})})}))),t.t0;case 17:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e){return t.apply(this,arguments)}}()}})),He=qe,Ge=function(){var e,t,c,n=Object(r.useContext)(je),a=re((function(e){return e.scripts})),s=re((function(e){return e.postScripts})),o=re((function(e){return e.getScripts})),i=re((function(e){return e.destroyScripts})),l=Object(L.a)(),j=He((function(e){return e.walletState})),u=He((function(e){return e.getWalletAddress})),b=He((function(e){return e.postWalletAddress})),d=function(){var e=Object(F.a)(_.a.mark((function e(t){var c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=t,!0!==Me.a.validate(c,"ripple")){e.next=14;break}return e.prev=3,e.next=6,b({shop:n,walletAddress:c});case 6:l({title:"Wallet address added successfully!",status:"success",duration:3e3}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),l({title:e.t0.message||"Something went wrong.",status:"error",duration:3e3});case 12:e.next=15;break;case 14:l({title:"Wallet Address is Invalid",status:"error"});case 15:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}(),p=Be.a().shape({walletAddress:Be.b().required("Wallet Address Is required")}),g=Object(Ue.a)({initialValues:{walletAddress:""},validationSchema:p,onSubmit:function(e){e&&d(e.walletAddress)}});Object(r.useEffect)((function(){u(n),o(n)}),[]),Object(r.useEffect)((function(){var e,t,c;g.setFieldValue("walletAddress",(null===j||void 0===j||null===(e=j.get)||void 0===e||null===(t=e.success)||void 0===t||null===(c=t.data)||void 0===c?void 0:c.walletAddress)||"")}),[null===j||void 0===j||null===(e=j.get)||void 0===e||null===(t=e.success)||void 0===t||null===(c=t.data)||void 0===c?void 0:c.walletAddress]);var x=function(){var e=Object(F.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s(n);case 3:l({title:"Widget added successfully! Please visit your online store after 30 seconds to check the widget.",status:"success"}),o(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),l({title:e.t0.message||$,status:"error"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(F.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i(n);case 3:l({title:"Widget removed successfully!",status:"success"}),o(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),l({title:e.t0.message||$,status:"error"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(C,{}),Object(S.jsx)(O.d,{maxW:"7xl",p:[12,6],bg:"#f6f6f7",textAlign:"left",children:Object(S.jsx)(O.a,{as:"section",maxW:"3xl",mx:"auto",children:Object(S.jsxs)(O.j,{spacing:4,children:[Object(S.jsx)(O.a,{bg:"white",borderRadius:10,p:5,boxShadow:"md",children:j.get.loading?Object(S.jsx)(O.a,{width:"100%",alignItems:"center",children:Object(S.jsx)(h.c,{mt:"4",noOfLines:4,spacing:"4"})}):j.get.success.ok?Object(S.jsxs)(O.a,{children:[Object(S.jsx)(O.l,{size:"xl",fontWeight:"bold",pb:"5px",children:"XRP wallet public address where you would receive XRP from customers"}),Object(S.jsxs)(ge.a,{onSubmit:g.handleSubmit,isInvalid:g.touched.walletAddress&&g.errors.walletAddress,children:[Object(S.jsx)(xe.a,{id:"walletAddress",name:"walletAddress",type:"text",placeholder:"XRP Wallet Address",onChange:g.handleChange,value:g.values.walletAddress}),Object(S.jsx)(ge.c,{size:"sm",color:"red",children:g.touched.walletAddress&&g.errors.walletAddress?g.errors.walletAddress:Object(S.jsx)(ge.b,{children:"Please check XRP wallet address where to receive XRP from customers"})})]}),Object(S.jsx)(m.a,{mt:4,onClick:g.handleSubmit,isLoading:j.post.loading,type:"submit",size:"sm",colorScheme:"messenger",children:"Submit"})]}):void 0}),Object(S.jsxs)(O.a,{bg:"white",borderRadius:10,p:5,boxShadow:"md",children:[Object(S.jsx)(O.l,{size:"xl",fontWeight:"bold",children:"Widget Embed Settings"}),Object(S.jsx)(O.l,{mt:"4",fontSize:"sm",children:'Enable or disable "XRP Coupons" widget on your store. The widget gets appended to the bottom of your store page above the footer on the home page.'}),Object(S.jsx)(m.b,{mt:"4",spacing:"6",children:a.get.loading?Object(S.jsx)(m.a,{colorScheme:"gray",isLoading:!0,isDisabled:!0,children:"Loading ..."}):a.get.success.data.length?Object(S.jsx)(m.a,{isLoading:a.destroy.loading||a.get.loading,fontWeight:"bold",size:"sm",colorScheme:"red",onClick:f,children:"Remove Widget From Your Store"}):Object(S.jsx)(m.a,{isLoading:a.post.loading||a.get.loading,fontWeight:"bold",size:"sm",colorScheme:"green",onClick:x,children:"Add Widget To Your Store"})}),Object(S.jsxs)(R.a,{mt:4,status:"info",children:[Object(S.jsx)(R.c,{}),Object(S.jsxs)(O.j,{children:[Object(S.jsx)(O.a,{children:Object(S.jsx)(O.l,{fontSize:"sm",children:"NOTE: If you want the widget only on certain pages or only in certain positions please add the following html tag to custom liquid or custom html section."})}),Object(S.jsx)(O.a,{children:Object(S.jsx)(O.c,{children:'<div id="xrp-shop-curation-app"> </div>'})})]})]})]})]})})})]})},Ye={get:{loading:!1,success:{ok:!1,data:[]},failure:{error:!1,message:""}}},Ke=G()((function(e,t){return{products:Ye,getProducts:function(){var t=Object(F.a)(_.a.mark((function t(){var c,r,n,a,s,o,i,l=arguments;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=l.length>0&&void 0!==l[0]?l[0]:{},r=c.products,n=void 0===r?[]:r,a=c.shop,e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{products:Object(g.a)(Object(g.a)({},e.products),{},{get:Object(g.a)(Object(g.a)({},Ye.get),{},{loading:!0})})})}))),t.prev=2,s=n.map((function(e){var t;if("string"===typeof e)return null===(t=e.split("/"))||void 0===t?void 0:t.pop()})).filter(Boolean),t.next=6,K.a.get("".concat("https://xrpshop.frangout.com","/api/get_products?shop=").concat(a,"&ids=").concat(s));case 6:return o=t.sent,i=o.data,e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{products:Object(g.a)(Object(g.a)({},e.products),{},{get:Object(g.a)(Object(g.a)({},Ye.get),{},{success:{ok:!0,data:i}})})})}))),t.abrupt("return",i);case 12:t.prev=12,t.t0=t.catch(2),e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{products:Object(g.a)(Object(g.a)({},e.products),{},{get:Object(g.a)(Object(g.a)({},Ye.get),{},{failure:{error:!0,message:t.t0.message||$}})})})})));case 15:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(){return t.apply(this,arguments)}}()}})),Je=Ke,$e=(c(1023),function(e){var t=e.isOpen,c=e.onClose,n=e.productIds,a=void 0===n?[]:n,s=e.lookId,o=Je((function(e){return e.products})),i=Je((function(e){return e.getProducts})),l=Object(r.useContext)(je);Object(r.useEffect)((function(){i({products:a,shop:l})}),[]);return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(E.h,{isCentered:!0,scrollBehavior:"inside",closeOnOverlayClick:!0,blockScrollOnMount:!1,preserveScrollBarGap:!0,lockFocusAcrossFrames:!1,isOpen:t,onClose:c,size:"xl",children:[Object(S.jsx)(E.n,{}),Object(S.jsxs)(E.k,{children:[Object(S.jsx)(E.m,{children:"Shop the products in this look"}),Object(S.jsx)(E.j,{}),Object(S.jsx)(E.i,{children:o.get.loading?Object(S.jsx)(O.j,{minChildWidth:"330px",spacing:"10px",children:[1,2,3].map((function(e,t){return Object(S.jsx)(O.b,{p:4,children:Object(S.jsx)(h.a,{width:"330px",height:"330px"})},t)}))}):o.get.failure.error?Object(S.jsx)(O.a,{children:Object(S.jsxs)(O.f,{direction:"column",align:"center",children:[Object(S.jsx)(O.m,{spacing:"3",children:Object(S.jsx)(O.h,{as:"h1",size:"md",children:o.get.failure.message})}),Object(S.jsx)("br",{}),Object(S.jsx)(O.e,{}),Object(S.jsx)("br",{}),Object(S.jsx)(O.m,{spacing:"3",children:Object(S.jsx)(m.a,{onClick:function(){return i({products:a,shop:l})},children:"Try Again"})})]})}):o.get.success.data.length?Object(S.jsx)(O.j,{minChildWidth:"330px",spacing:"10px",children:o.get.success.data.map((function(e){return Object(S.jsx)(O.b,{py:8,children:Object(S.jsxs)(O.a,{role:"group",p:4,maxW:"330px",w:"full",boxShadow:"2xl",rounded:"lg",pos:"relative",zIndex:1,children:[Object(S.jsx)(O.a,{rounded:"lg",mt:-12,pos:"relative",height:"260px",_groupHover:{_after:{filter:"blur(20px)"}},children:Object(S.jsx)(V,{medias:e.images,height:260,width:282})}),Object(S.jsxs)(O.k,{pt:3,align:"center",children:[Object(S.jsx)(O.l,{color:"gray.500",fontSize:"sm",textTransform:"uppercase",children:e.variants&&e.variants.length?"".concat(e.variants.length," variants available"):null}),Object(S.jsx)(O.h,{textAlign:"center",fontSize:"2xl",fontFamily:"body",fontWeight:500,children:e.title}),Object(S.jsx)(O.i,{marginTop:"10px",href:"http://".concat(l,"/products/").concat(e.handle,"?app=shoplook&lookid=").concat(s),target:"_blank",width:"full",children:Object(S.jsx)(m.a,{isFullWidth:!0,rightIcon:Object(S.jsx)(y.e,{}),children:"View Product"})})]})]})},e.admin_graphql_api_id||e.id)}))}):null}),Object(S.jsx)(E.l,{children:Object(S.jsx)(m.a,{colorScheme:"blue",mr:3,onClick:c,children:"Close"})})]})]})})}),Qe=function(e){var t=Object(f.d)("white","gray.800"),c=ee((function(e){return e.looks})),n=ee((function(e){return e.getLooks})),a=Object(r.useContext)(je),s=Object(x.c)(),o=s.isOpen,i=s.onOpen,l=s.onClose,j=Object(r.useState)([]),u=Object(p.a)(j,2),b=u[0],d=u[1],g=Object(r.useState)(!1),v=Object(p.a)(g,2),w=v[0],k=v[1],y=Object(r.useState)(""),C=Object(p.a)(y,2),I=C[0],z=C[1],W=se((function(e){return e.getViews}));se((function(e){return e.viewsState}));Object(r.useEffect)((function(){W({shop:a}),n({shop:a})}),[]);var A=function(){z(""),d([]),k(!1),l()};return Object(S.jsxs)(O.d,{maxW:"7xl",p:"12",children:[Object(S.jsx)(O.b,{children:Object(S.jsx)(O.h,{children:"Shop The Look"})}),Object(S.jsx)("br",{}),Object(S.jsx)(O.j,{minChildWidth:"330px",spacing:"10px",children:c.get.loading?[1,2,3].map((function(e,t){return Object(S.jsx)(O.b,{children:Object(S.jsx)(h.a,{width:"330px",height:"330px"})},t)})):c.get.failure.error?Object(S.jsx)(O.a,{children:Object(S.jsxs)(O.f,{direction:"column",align:"center",children:[Object(S.jsx)(O.m,{spacing:"3",children:Object(S.jsx)(O.h,{as:"h1",size:"md",children:c.get.failure.message})}),Object(S.jsx)("br",{}),Object(S.jsx)(O.e,{}),Object(S.jsx)("br",{}),Object(S.jsx)(O.m,{spacing:"3",children:Object(S.jsx)(m.a,{onClick:function(){return n({shop:a})},children:"Try Again"})})]})}):c.get.success.data.length?Object(S.jsxs)(S.Fragment,{children:[w?Object(S.jsx)($e,{isOpen:o,onClose:A,lookId:I,productIds:b}):null,c.get.success.data.map((function(e){return Object(S.jsx)(O.b,{py:8,children:Object(S.jsxs)(O.a,{role:"group",p:4,maxW:"330px",w:"full",bg:t,boxShadow:"2xl",rounded:"lg",pos:"relative",zIndex:1,children:[Object(S.jsx)(O.a,{rounded:"lg",mt:-12,pos:"relative",height:"260px",_groupHover:{_after:{filter:"blur(20px)"}},children:Object(S.jsx)(V,{medias:e.medias,height:260,width:282})}),Object(S.jsxs)(O.k,{pt:3,align:"center",children:[Object(S.jsxs)(O.l,{color:"gray.500",fontSize:"sm",textTransform:"uppercase",children:[e.products.length," products in this look"]}),Object(S.jsx)(O.h,{fontSize:"2xl",fontFamily:"body",fontWeight:500,children:e.name}),Object(S.jsx)(m.a,{marginTop:"10px",onClick:function(){return function(e){var t=e.lookId,c=e.products;d(c),z(t),k(!0),i()}({lookId:e.id||e.objectId,products:e.products})},isFullWidth:!0,children:"XRP Coupons"})]})]})},e.id||e.objectId)}))]}):void 0})]})},Ze={get:{loading:!1,success:{ok:!1,data:[]},failure:{error:!1,message:""}},post:{loading:!1,success:{ok:!1,data:null},failure:{error:!1,message:""}}},et=G()((function(e){return{transactionState:Ze,getTransactionState:function(){var t=Object(F.a)(_.a.mark((function t(c){var r,n,a,s,o;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{walletState:Object(g.a)(Object(g.a)({},e.transactionState),{},{get:Object(g.a)(Object(g.a)({},Ze.get),{},{loading:!0})})})}))),t.prev=1,t.next=4,K.a.get("".concat("https://xrpshop.frangout.com","/api/get_shop?shop=").concat(c));case 4:return r=t.sent,n=r.data,console.log("SHOP IS ",n),a=n.walletAddress,s=new window.xrpl.Client("".concat("wss://s.altnet.rippletest.net:51233")),t.next=11,s.connect();case 11:return t.next=13,s.request({command:"account_tx",account:a});case 13:return o=t.sent,console.log(o),e(Object(J.a)((function(e){return Object(g.a)(Object(g.a)({},e),{},{transactionState:Object(g.a)(Object(g.a)({},e.transactionState),{},{get:Object(g.a)(Object(g.a)({},Ze.get),{},{success:{ok:!0,data:o}})})})}))),t.abrupt("return",o);case 19:throw t.prev=19,t.t0=t.catch(1),console.error(t.t0),t.t0;case 23:case"end":return t.stop()}}),t,null,[[1,19]])})));return function(e){return t.apply(this,arguments)}}()}})),tt=et,ct=function(){var e,t,c=Object(r.useContext)(je),n=tt((function(e){return e.transactionState})),a=tt((function(e){return e.getTransactionState}));return Object(r.useEffect)(Object(F.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(c);case 1:case"end":return e.stop()}}),e)}))),[]),0===n.get.success.data.length?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(C,{}),Object(S.jsx)(O.d,{maxW:"7xl",p:[12,6],minH:"100vh",bg:"#f6f6f7",textAlign:"left",children:Object(S.jsx)(O.a,{padding:"6",boxShadow:"lg",bg:"white",children:Object(S.jsx)(h.c,{mt:"4",noOfLines:4,spacing:"4"})})})]}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(C,{}),Object(S.jsx)(O.d,{maxW:"7xl",p:[12,6],bg:"#f6f6f7",textAlign:"left",children:Object(S.jsxs)(O.a,{bg:"white",width:"5xl",m:"auto",p:5,borderRadius:"10px",children:[Object(S.jsx)(O.m,{spacing:2,align:"stretch",children:Object(S.jsxs)(O.a,{children:[Object(S.jsx)(O.l,{size:"xl",fontWeight:"bold",children:"XRP Transaction Details"}),Object(S.jsx)(O.e,{borderColor:"gray.200"})]})}),Object(S.jsx)(we.b,{p:"5",children:Object(S.jsxs)(we.a,{variant:"simple",children:[Object(S.jsx)(we.f,{children:Object(S.jsxs)(we.g,{children:[Object(S.jsx)(we.e,{children:"Account"}),Object(S.jsx)(we.e,{isNumeric:!0,children:"Amount"}),Object(S.jsx)(we.e,{children:"Ledger Index"}),Object(S.jsx)(we.e,{children:"Fee"}),Object(S.jsx)(we.e,{children:"Transaction Ref"})]})}),Object(S.jsx)(we.c,{children:null===(e=n.get.success.data)||void 0===e||null===(t=e.result)||void 0===t?void 0:t.transactions.map((function(e){return Object(S.jsxs)(we.g,{children:[Object(S.jsx)(we.d,{children:e.tx.Account}),Object(S.jsx)(we.d,{isNumeric:!0,children:window.xrpl.dropsToXrp(e.tx.Amount)}),Object(S.jsx)(we.d,{children:e.tx.inLedger}),Object(S.jsx)(we.d,{children:e.tx.Fee}),Object(S.jsx)(we.d,{children:Object(S.jsx)(O.i,{color:"teal",target:"_blank",href:"".concat("https://testnet.xrpl.org/","transactions/").concat(e.tx.hash),children:e.tx.hash})})]})}))})]})})]})})]})},rt=function(e){return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(d.d,{children:[Object(S.jsx)(d.b,{path:"/embed",element:Object(S.jsx)(Qe,{})}),Object(S.jsx)(d.b,{path:"/settings",element:Object(S.jsx)(Ge,{})}),Object(S.jsx)(d.b,{path:"/transaction",element:Object(S.jsx)(ct,{})}),Object(S.jsx)(d.b,{path:"/looks",element:Object(S.jsx)(me,{})}),Object(S.jsx)(d.b,{path:"/looks/:id",element:Object(S.jsx)(Xe,{})}),Object(S.jsx)(d.b,{path:"/looks/create",element:Object(S.jsx)(Xe,{})}),Object(S.jsx)(d.b,{path:"/shopify",element:Object(S.jsx)(me,{})}),Object(S.jsx)(d.b,{path:"/shopify/callback",element:Object(S.jsx)(me,{})}),Object(S.jsx)(d.b,{path:"/authorize",element:Object(S.jsx)(fe,{})}),Object(S.jsx)(d.b,{path:"/",element:Object(S.jsx)(me,{})})]})})};j.a.initialize("xrpshop","xrpshop"),j.a.serverURL="https://xrpshop.frangout.com/parse";var nt=b(window.location.search),at=nt.host,st=nt.shop,ot=void 0===st?"":st;at?s.a.render(Object(S.jsx)(n.a.StrictMode,{children:Object(S.jsx)(o.a,{children:Object(S.jsx)(i.a,{children:Object(S.jsx)(u.Provider,{config:{apiKey:"ae0888874003f3f663dbb540e48242fb",host:at,forceRedirect:!0},children:Object(S.jsx)(je.Provider,{value:ot,children:Object(S.jsx)(rt,{})})})})})}),document.getElementById("root")):s.a.render(Object(S.jsx)(n.a.StrictMode,{children:Object(S.jsx)(o.a,{children:Object(S.jsx)(i.a,{children:Object(S.jsx)(je.Provider,{value:ot,children:Object(S.jsx)(rt,{})})})})}),document.getElementById("root"))},741:function(e,t){},794:function(e,t,c){}},[[1024,1,2]]]);
//# sourceMappingURL=main.fbb190c2.chunk.js.map